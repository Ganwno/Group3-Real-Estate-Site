<%
#   Created: Daniel Swain
#   Date: 31/05/2016
#   
#   Criteria Partial from /buy for mobiles only (It's no longer a category selection dropdown)
#   It has the same id's as the other select menu so it works using the same javascript
# 
%>

<div class="criteria-selection">
	<% # Added scrolling and search to the mobile layout %>
	<div class="big ui scrolling search dropdown right labeled icon button" id="criteria_dropdown">
		<span class="text" id="button-name">Add Search Criteria</span>
		<i class="right add icon"></i>
		<i class="dropdown icon"></i>
		<% # On mobiles we only use one big long searchable menu %>
		<div class="menu">
			<%# Appliances Category %>
			<div class="centered header">Appliances</div>
			<% additional_tags = add_edit_get_tag_types_for_category("Appliances") %>
			<% if additional_tags %>
				<% # Create a menu item for each tag_type %>
				<% additional_tags.each do |tag| %>
					<div class="item" value="<%= tag.tag_type_category%>" data-value"<%= tag.tag_type_label %>_<%= tag.tag_type_category %>"><%= tag.tag_type_label %></div>
				<% end %>
			<% end %>
			
			<%# Bathrooms category %>
			<div class="header">Bathrooms</div>
			<%# Loop through and create a menu item for this category, using the Rails content_tag and the category value %>
			<% (1..10).each do |n| %>
				<% if n == 1 %>
					<%= content_tag(:div, "#{n} Bathroom", { class: "item", value: "Bathrooms" }) %>
				<% else %>
					<%= content_tag(:div, "#{n} Bathrooms", { class: "item", value: "Bathrooms" }) %>
				<% end %>
			<% end %>
			
			<%# Bedrooms category %>
			<div class="header">Bedrooms</div>
			<%# Loop through and create a menu item for this category, using the Rails content_tag and the category value %>
			<% (1..10).each do |n| %>
				<% if n == 1 %>
					<%= content_tag(:div, "#{n} Bedroom", { class: "item", value: "Bedrooms" }) %>
				<% else %>
					<%= content_tag(:div, "#{n} Bedrooms", { class: "item", value: "Bedrooms" }) %>
				<% end %>
			<% end %>

			<%# Eco Friendly Category %>
			<div class="header">Eco Friendly</div>
			<% additional_tags = add_edit_get_tag_types_for_category("Eco Friendly") %>
			<% if additional_tags %>
				<% # Create a menu item for each tag_type %>
				<% additional_tags.each do |tag| %>
					<div class="item" value="<%= tag.tag_type_category%>" data-value"<%= tag.tag_type_label %>_<%= tag.tag_type_category %>"><%= tag.tag_type_label %></div>
				<% end %>
			<% end %>
			
			<%# Heating and Cooling Category %>
			<div class="header">Heating Cooling</div>
			<% additional_tags = add_edit_get_tag_types_for_category("Heating Cooling") %>
			<% if additional_tags %>
				<% # Create a menu item for each tag_type %>
				<% additional_tags.each do |tag| %>
					<div class="item" value="<%= tag.tag_type_category%>" data-value"<%= tag.tag_type_label %>_<%= tag.tag_type_category %>"><%= tag.tag_type_label %></div>
				<% end %>
			<% end %>
	
			<%# House Type Category %>
			<div class="header">House Type</div>
			<div value="House Type" class="item">Apartment</div>
			<div value="House Type" class="item">House</div>
			<div value="House Type" class="item">Land</div>
			
			<%# Indoor Features Category %>
			<div class="header">Indoor Features</div>
			<% additional_tags = add_edit_get_tag_types_for_category("Indoor Features") %>
			<% if additional_tags %>
				<% # Create a menu item for each tag_type %>
				<% additional_tags.each do |tag| %>
					<div class="item" value="<%= tag.tag_type_category%>" data-value"<%= tag.tag_type_label %>_<%= tag.tag_type_category %>"><%= tag.tag_type_label %></div>
				<% end %>
			<% end %>
	
			<%# Leisure Category %>
			<div class="header">Leisure</div>
			<% additional_tags = add_edit_get_tag_types_for_category("Leisure") %>
			<% if additional_tags %>
				<% # Create a menu item for each tag_type %>
				<% additional_tags.each do |tag| %>
					<div class="item" value="<%= tag.tag_type_category%>" data-value"<%= tag.tag_type_label %>_<%= tag.tag_type_category %>"><%= tag.tag_type_label %></div>
				<% end %>
			<% end %>
	
			<%# Outdoor Features Category %>
			<div class="header">Outdoor Features</div>
			<% additional_tags = add_edit_get_tag_types_for_category("Outdoor Features") %>
			<% if additional_tags %>
				<% # Create a menu item for each tag_type %>
				<% additional_tags.each do |tag| %>
					<div class="item" value="<%= tag.tag_type_category%>" data-value"<%= tag.tag_type_label %>_<%= tag.tag_type_category %>"><%= tag.tag_type_label %></div>
				<% end %>
			<% end %>

			<%# Parking Category %>
			<div class="header">Parking</div>
			<%# Loop through and create a menu item for this category, using the Rails content_tag and the category value %>
			<% (1..10).each do |n| %>
				<% if n == 1 %>
					<%= content_tag(:div, "#{n} Parking Bay", { class: "item", value: "Parking" }) %>
				<% else %>
					<%= content_tag(:div, "#{n} Parking Bays", { class: "item", value: "Parking" }) %>
				<% end %>
			<% end %>

			<%# Price Category %>
			<div class="header">Price</div>
			<%# Loop through and create a menu item for this category, using the Rails content_tag and the category value %>
			<% (1..10).each do |n| %>
				<%= content_tag(:div, number_to_currency(n * 100000, precision: 0), { class: "item", value: "Price" }) %>
			<% end %>
		</div>
	</div>
</div>
