<%
#   Created: Daniel Swain
#   Date: 07/04/2016
#   
#   Add/Edit page template the user will see when they are logged in and adding/editing a property.
#   
#   Partials:
#   	* add_edit_listing: the parial for the edit listing information tab
#   	* add_edit_photos: the partial for adding/editing photos
#   	* add_edit_extras: the parital for the extra paid features
#   
#   Collections:
#   	* @property: the property to be edited
#   
#   Todo:
#   	* Design the tabs
#   	* Move the buttons from the tabs to this page so they only have to be edited/created once.
#   	* Make cancel, preview and post buttons work
#   	* Bring in Jayden's search results property partial to preview
#   	* Live update the preview
%>

<% # Main container %>
<div class="ui container sell-container">
	<div class="ui middle aligned grid container">
		<div class="ui centered pointing secondary add-edit tabular menu row">
			<a class="item active" data-tab="add-edit-1">Listing Information</a>
			<a class="item" data-tab="add-edit-2">Photographs</a>
			<a class="item" data-tab="add-edit-3">Extras</a>
		</div>
	</div>
	<div class="ui tab segment active" data-tab="add-edit-1">
		<div class="ui one column grid">
			<% # Render the tab body for the add/edit listing tab %>
			<%= render 'sell/add_edit_listing' %>

			<% # The button container for the add/edit listing tab %>
			<div class="ui right aligned column">
				<% # Cancel button %>
				<%= link_to "Cancel", sell_index_path, data: { confirm: "Are you sure you want to cancel and discard your changes?" }, class: "ui button" %>
				
				<% # Preview button %>
				<div class="ui button">Preview</div>
			</div>
		</div>
	</div>
	<div class="ui tab segment" data-tab="add-edit-2">
		<div class="ui one column grid">
			<% # Render the tab body for the add/edit photos tab %>
			<%= render 'sell/add_edit_photos' %>

			<% # The button container for the photos tab %>
			<div class="ui right aligned column">
				<% # Cancel button %>
				<%= link_to "Cancel", sell_index_path, data: { confirm: "Are you sure you want to cancel and discard your changes?" }, class: "ui button" %>
				
				<% # Preview button %>
				<div class="ui button">Preview</div>

				<% # Post button %>
				<%= link_to "Post", sell_index_path, method: :post, class: "ui button sell-red-button" %>
			</div>
		</div>
	</div>
	<div class="ui tab segment" data-tab="add-edit-3">
		<div class="ui one column grid">
			<% # Render the tab body for the add/edit extras tab %>
			<%= render 'sell/add_edit_extras' %>

			<% # The button container for the add/edit extras tab %>
			<div class="ui right aligned column">
				<% # Cancel button %>
				<%= link_to "Cancel", sell_index_path, data: { confirm: "Are you sure you want to cancel and discard your changes?" }, class: "ui button" %>
				
				<% # Preview button %>
				<div class="ui button">Preview</div>

				<% # Post button %>
				<%= link_to "Post", sell_index_path, method: :post, class: "ui button sell-red-button" %>
			</div>
		</div>
	</div>
</div>
